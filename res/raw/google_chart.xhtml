<html><head>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {
        var dataTable = google.visualization.arrayToDataTable([
          <__::DATATABLE_HEADER::__><__::DATATABLE_ROWS::__>
        ]);
        function getMonth(d) {
            return new Date(d.getYear()+1900,d.getMonth(),1);
        }
        var byMonth = google.visualization.data.group( dataTable,
            [{'column': 0, 'modifier': getMonth,  'type': 'date'}],
            [{'column': 3, 'aggregation': google.visualization.data.sum,  'type': 'number'} ]);
        var byCategory = google.visualization.data.group( dataTable,
            [2], [ {'column': 3, 'aggregation': google.visualization.data.sum,  'type': 'number'} ]);
        var byPayment = google.visualization.data.group( dataTable,
            [1], [ {'column': 3, 'aggregation': google.visualization.data.sum,  'type': 'number'} ]);

        new google.visualization.ColumnChart(document.getElementById('chart_div_by_month')).draw(byMonth, { title: 'Expense - by Month', vAxis: {title: 'Money'}});
        
        var chart_byCategory = new google.visualization.PieChart(document.getElementById('chart_div_by_category'));
        chart_byCategory.draw(byCategory, {title: 'Expense - by Category'});

        new google.visualization.PieChart(document.getElementById('chart_div_by_payment')).draw(byPayment,  {title: 'Expense - by Payment' });
      }
    </script>
  </head>
  <body>
    <code>Google Chart Report</code>
    <div id="chart_div_by_month"    style="width: 100%; height: 100%;"></div></br>
    <div id="chart_div_by_category" style="width: 100%; height: 100%;"></div></br>
    <div id="chart_div_by_payment"  style="width: 100%; height: 100%;"></div></br>
  </body></html>
